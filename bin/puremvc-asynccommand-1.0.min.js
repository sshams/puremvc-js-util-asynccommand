(function(e){function t(){puremvc.SimpleCommand.call(this)}function n(){puremvc.Notifier.call(this);this.subCommands=[];this.initializeAsyncMacroCommand()}if(null==e)e=window;if(e.puremvc.asynccommand){return}t.prototype=new puremvc.SimpleCommand;t.prototype.constructor=t;t.prototype.setOnComplete=function(e){this._onComplete=e};t.prototype.commandComplete=function(){this._onComplete()};t.prototype._onComplete=null;n.prototype=new puremvc.Notifier;n.prototype.constructor=n;n.prototype.addSubCommand=function(e){this.subCommands.push(e)};n.prototype.setOnComplete=function(e){this._onComplete=e};n.prototype.execute=function(e){this._notification=e;this.nextCommand()};n.prototype.nextCommand=function(){if(this.subCommands.length>0){var e=this.subCommands.shift();var t=new e;var n=t instanceof puremvc.asynccommand.AsyncCommand;var r=this;if(n)t.setOnComplete(function(){r.nextCommand()});t.initializeNotifier(this.multitonKey);t.execute(this._notification);if(!n)this.nextCommand()}else{if(this._onComplete!=null)this._onComplete();this._notification=null;this._onComplete=null}};n.prototype._onComplete=null;n.prototype.subCommands=null;n.prototype._notification=null;e.puremvc.asynccommand={};e.puremvc.asynccommand.AsyncCommand=t;e.puremvc.asynccommand.AsyncMacroCommand=n})(this)